<%- include('../partials/header.ejs', {
    extraHead: '<link rel="stylesheet" href="/public/css/products.css">'
}) %>

<div class="navbar-spacer"></div>

<% if (!products || products.length === 0) { %>
    <p>Nema proizvoda u ovoj kategoriji.</p>
<% } else { %>
<div class="products-container">

    <div class="side-section">
        <h1>Side section h1</h1>
    </div>

    <div class="product-grid">

        <% for (let i = 0; i < products.length; i++) { %>
            <div class="product-card">

                <img 
                    src="/public/<%= products[i].image_url ? products[i].image_url : 'placeholder.png' %>" 
                    alt="<%= products[i].name %>"
                >

                <div class="product-card-body">
                    <div class="product-card-title">
                        <%= products[i].name %>
                    </div>

                    <% if (products[i].description) { %>
                        <div class="product-card-description">
                            <%= products[i].description.substring(0, 80) %>...
                        </div>
                    <% } %>

                    <div class="product-card-price">
                        <%= products[i].price %> RSD
                    </div>
                </div>

            </div><!-- .product-card -->
        <% } %>
    </div><!-- .product-grid -->
</div><!-- .products-container -->

<% } %>

<%- include('../partials/footer.ejs') %>